{"version":3,"file":"view.js","mappings":"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","sources":["webpack://n8finch-blog-filter/external window \"React\"","webpack://n8finch-blog-filter/external window \"ReactDOM\"","webpack://n8finch-blog-filter/webpack/bootstrap","webpack://n8finch-blog-filter/webpack/runtime/compat get default export","webpack://n8finch-blog-filter/webpack/runtime/define property getters","webpack://n8finch-blog-filter/webpack/runtime/hasOwnProperty shorthand","webpack://n8finch-blog-filter/webpack/runtime/make namespace object","webpack://n8finch-blog-filter/./src/view.js"],"sourcesContent":["module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { useState, useEffect } from \"react\";\nimport { createRoot } from \"react-dom\";\n\nconst PostItem = ({ post }) => {\n\treturn (\n\t\t<li className=\"postItem-wrapper\">\n\t\t\t<div className=\"image-wrapper\">\n\t\t\t\t<a href={post.uri}>\n\t\t\t\t\t{post.featuredImage && (\n\t\t\t\t\t\t<img src={post.featuredImage} alt={post.title} />\n\t\t\t\t\t)}\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div className=\"content-wrapper\">\n\t\t\t\t<a href={post.uri}>\n\t\t\t\t\t<h2>{post.title}</h2>\n\t\t\t\t</a>\n\t\t\t\t<small>\n\t\t\t\t\t<em>\n\t\t\t\t\t\tPublished:{\" \"}\n\t\t\t\t\t\t{new Date(post.date).toLocaleDateString(\"en-US\", {\n\t\t\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\t\t\tmonth: \"long\",\n\t\t\t\t\t\t\tday: \"numeric\",\n\t\t\t\t\t\t})}\n\t\t\t\t\t</em>\n\t\t\t\t</small>\n\t\t\t\t<p\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: post.excerpt.slice(0, 100) + \"...\",\n\t\t\t\t\t}}\n\t\t\t\t></p>\n\t\t\t</div>\n\t\t</li>\n\t);\n};\n\nconst PostList = ({ posts }) => {\n\treturn (\n\t\t<ul>\n\t\t\t{posts.map((post) => (\n\t\t\t\t<PostItem key={post.id} post={post} />\n\t\t\t))}\n\t\t</ul>\n\t);\n};\n\nconst SearchForm = ({ search, setSearch }) => {\n\treturn (\n\t\t<form>\n\t\t\t{/* <label htmlFor=\"search\">Search:</label> */}\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tid=\"search\"\n\t\t\t\tplaceholder=\"Search posts...\"\n\t\t\t\tvalue={search}\n\t\t\t\tonChange={(event) => setSearch(event.target.value)}\n\t\t\t/>\n\t\t</form>\n\t);\n};\n\nconst graphqlEndpoint = \"https://n8finch2024.local/graphql\";\nconst query = `\n{\n  posts(first: 500) {\n    nodes {\n      id\n      title\n      excerpt\n      date\n      uri\n      featuredImage {\n        node {\n          sourceUrl(size: MEDIUM)\n        }\n      }\n    }\n  }\n}\n`;\n\nconst requestOptions = {\n\tmethod: \"POST\",\n\theaders: { \"Content-Type\": \"application/json\" },\n\tbody: JSON.stringify({ query }),\n};\n\nfunction BlogFilterApp() {\n\tconst [posts, setPosts] = useState([]);\n\tconst [search, setSearch] = useState(\"\");\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tconsole.log(\"Hello from JavaScript!\");\n\t\tfetch(graphqlEndpoint, requestOptions)\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tconst fetchedPosts = data.data.posts.nodes;\n\t\t\t\tconst posts = fetchedPosts.map((post) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: post.id,\n\t\t\t\t\t\ttitle: post.title,\n\t\t\t\t\t\texcerpt: post.excerpt,\n\t\t\t\t\t\tdate: post.date,\n\t\t\t\t\t\turi: post.uri,\n\t\t\t\t\t\tfeaturedImage: post.featuredImage\n\t\t\t\t\t\t\t? post.featuredImage.node.sourceUrl\n\t\t\t\t\t\t\t: null,\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\tsetPosts(posts);\n\t\t\t\tsetLoading(false);\n\t\t\t})\n\t\t\t.catch((error) => console.error(\"Error fetching posts:\", error));\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<SearchForm search={search} setSearch={setSearch} />\n\t\t\t{loading && <p><em>Loading posts...</em></p>}\n\t\t\t<PostList\n\t\t\t\tposts={posts.filter((post) =>\n\t\t\t\t\tpost.title.toLowerCase().includes(search.toLowerCase()),\n\t\t\t\t)}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nconst root = createRoot(document.getElementById(\"n8finch-blog-filter\"));\nwindow.addEventListener(\n\t\"load\",\n\tfunction () {\n\t\troot.render(<BlogFilterApp />);\n\t},\n\tfalse,\n);\n"],"names":["React","useState","useEffect","createRoot","PostItem","post","createElement","className","href","uri","featuredImage","src","alt","title","Date","date","toLocaleDateString","year","month","day","dangerouslySetInnerHTML","__html","excerpt","slice","PostList","posts","map","key","id","SearchForm","search","setSearch","type","placeholder","value","onChange","event","target","graphqlEndpoint","query","requestOptions","method","headers","body","JSON","stringify","BlogFilterApp","setPosts","loading","setLoading","console","log","fetch","then","response","json","data","fetchedPosts","nodes","node","sourceUrl","catch","error","filter","toLowerCase","includes","root","document","getElementById","window","addEventListener","render"],"sourceRoot":""}