(()=>{"use strict";const e=window.React,t=window.ReactDOM,a=({post:t})=>(0,e.createElement)("li",{className:"postItem-wrapper"},(0,e.createElement)("div",{className:"image-wrapper"},(0,e.createElement)("a",{href:t.uri},t.featuredImage&&(0,e.createElement)("img",{src:t.featuredImage,alt:t.title}))),(0,e.createElement)("div",{className:"content-wrapper"},(0,e.createElement)("a",{href:t.uri},(0,e.createElement)("h2",null,t.title)),(0,e.createElement)("small",null,(0,e.createElement)("em",null,"Published:"," ",new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," ","| Categories:"," ",t.categories.nodes.map(((a,n)=>(0,e.createElement)("a",{key:a.id,href:a.uri},a.name,n<t.categories.nodes.length-1&&", "))))),(0,e.createElement)("p",{dangerouslySetInnerHTML:{__html:t.excerpt.slice(0,100)+"..."}}))),n=({posts:t})=>(0,e.createElement)("ul",null,t.map((t=>(0,e.createElement)(a,{key:t.id,post:t})))),r=({search:t,setSearch:a})=>(0,e.createElement)("form",null,(0,e.createElement)("input",{type:"text",id:"search",placeholder:"Search posts...",value:t,onChange:e=>a(e.target.value)})),l={method:"GET",headers:{"Content-Type":"application/json"}};function c(){const[t,a]=(0,e.useState)([]),[c,s]=(0,e.useState)(""),[o,i]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{fetch("/wp-content/uploads/all-the-posts.json",l).then((e=>e.json())).then((e=>{const t=e.data.posts.nodes.map((e=>{var t;return{id:e.id,title:e.title,excerpt:e.excerpt,date:e.date,uri:e.uri,categories:null!==(t=e.categories)&&void 0!==t?t:{nodes:[]},featuredImage:e.featuredImage?e.featuredImage.node.sourceUrl.replace("https://n8finch2024.local//Users/natefinch/Local Sites/n8finch2024/app/public",""):null}}));a(t),i(!1)})).catch((e=>console.error("Error fetching posts:",e)))}),[]),(0,e.createElement)("div",null,(0,e.createElement)(r,{search:c,setSearch:s}),o&&(0,e.createElement)("p",null,(0,e.createElement)("em",null,"Loading posts...")),(0,e.createElement)(n,{posts:t.filter((e=>e.title.toLowerCase().includes(c.toLowerCase())||e.categories.nodes.some((e=>e.name.toLowerCase().includes(c.toLowerCase())))))}))}const s=(0,t.createRoot)(document.getElementById("n8finch-blog-filter"));window.addEventListener("load",(function(){s.render((0,e.createElement)(c,null))}),!1)})();